{% extends 'base.html' %}

{% block title %}{{ object.text }}{% endblock %}

{% block content %}
<a href="{% url 'quiz-detail' object.quiz.pk %}">Back to Quiz</a>
<h2>{{ object.text }}</h2>
<p><strong>Quiz:</strong> <a href="{% url 'quiz-detail' object.quiz.pk %}">{{ object.quiz.title }}</a></p>
<p><strong>Order:</strong> {{ object.order }}</p>

{% if user.is_superuser or object.quiz.created_by == user %}
    <p><a href="{% url 'question-option-create' object.pk %}">âž• Add Option</a></p>
{% endif %}

<h3>Options:</h3>
<ul>
{% for option in object.options.all %}
    <li>
        {{ option.text }} 
        {% if option.is_correct %}<strong>(Correct)</strong>{% endif %}
        {% if option.feedback %}<br><em>{{ option.feedback }}</em>{% endif %}
    </li>
{% empty %}
    <li>No options yet.</li>
{% endfor %}
</ul>
{% if user.is_superuser or object.created_by == user %}
    <p>
        <a href="{% url 'question-update' q.pk %}"><button>Update</button></a>
        <a href="{% url 'question-delete' q.pk %}"><button>Delete</button></a>
    </p>
{% endif %}
{% if user.is_superuser or object.created_by == user %}
    <p>
        <a href="{% url 'question-update' q.pk %}">
            <button>Edit</button>
        </a>
        <a href="{% url 'question-delete' q.pk %}">
            <button>Delete</button>
        </a>
    </p>
{% endif %}


{% endblock %}